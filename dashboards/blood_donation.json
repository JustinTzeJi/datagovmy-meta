{
    "dashboard_name": "blood_donation",
    "data_last_updated": "2023-06-01 23:59",
    "route": "/dashboard/blood-donation,/ms-MY/dashboard/blood-donation",
    "manual_trigger": "2",
    "required_params": [
        "state"
    ],
    "optional_params": [],
    "charts": {
        "bar_chart_age": {
            "name": "bar_chart_age",
            "chart_type": "bar_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_03_barchart_age.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "keys": [
                    "state",
                    "period"
                ],
                "rename_cols": {
                    "age_group": "x",
                    "new_donors": "y"
                },
                "x": "x",
                "y": [
                    "y"
                ]
            }
        },
        "bar_chart_time": {
            "name": "bar_chart_time",
            "chart_type": "bar_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_03_barchart_time.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "keys": [
                    "state",
                    "type"
                ],
                "rename_cols": {
                    "period": "x",
                    "new_donors": "y"
                },
                "x": "x",
                "y": [
                    "y"
                ]
            }
        },
        "heatmap_bloodstock": {
            "name": "heatmap_bloodstock",
            "chart_type": "heatmap_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_01_stock_snapshot.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "static",
            "api_params": [],
            "variables": {
                "cols": [
                    "a",
                    "b",
                    "ab",
                    "o"
                ],
                "id": "state",
                "keys": [
                    "state"
                ],
                "null_values": null,
                "replace_vals": {
                    "High": 0,
                    "Safe": 1,
                    "Low": 2,
                    "Mid": 3
                },
                "dict_rename": {
                    "female_": "",
                    "male_": ""
                },
                "row_format": "upper",
                "operation": "SET"
            }
        },
        "heatmap_donorrate": {
            "name": "heatmap_donorrate",
            "chart_type": "heatmap_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_04_heatmap_donorrate.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "cols": [
                    "17-24",
                    "25-29",
                    "30-34",
                    "35-39",
                    "40-44",
                    "45-49",
                    "50-54",
                    "55-59",
                    "60-64",
                    "Overall"
                ],
                "id": "demog",
                "keys": [
                    "state",
                    "metric",
                    "demog"
                ],
                "null_values": null,
                "replace_vals": {},
                "dict_rename": {
                    "[a-zA-Z]+_": ""
                },
                "operation": "SET",
                "row_format": "title"
            }
        },
        "heatmap_retention": {
            "name": "heatmap_retention",
            "chart_type": "heatmap_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_04_heatmap_retention.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "cols": {
                    "x": "donated_after",
                    "y": "retention_rate"
                },
                "id": "donated_in",
                "keys": [
                    "state",
                    "donated_in"
                ],
                "null_values": null,
                "replace_vals": {},
                "dict_rename": {},
                "operation": "APPEND",
                "row_format": "upper"
            }
        },
        "timeseries_all": {
            "name": "timeseries_all",
            "chart_type": "timeseries_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_02_timeseries.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "keys": [
                    "state"
                ],
                "rename_cols": {
                    "date": "x",
                    "daily_7dma": "line_daily"
                },
                "value_columns": [
                    "x",
                    "daily",
                    "line_daily"
                ]
            }
        },
        "timeseries_bloodstock": {
            "name": "timeseries_bloodstock",
            "chart_type": "timeseries_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_01_stock_timeseries.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "keys": [
                    "state"
                ],
                "rename_cols": {
                    "date": "x",
                    "stock_a": "type_a",
                    "stock_b": "type_b",
                    "stock_ab": "type_ab",
                    "stock_o": "type_o"
                },
                "value_columns": [
                    "x",
                    "type_a",
                    "type_b",
                    "type_ab",
                    "type_o"
                ]
            }
        },
        "timeseries_facility": {
            "name": "timeseries_facility",
            "chart_type": "timeseries_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_05_timeseries_facility.parquet",
            "api_type": "static",
            "api_params": [],
            "variables": {
                "keys": [
                    "state",
                    "hospital"
                ],
                "rename_cols": {
                    "date": "x",
                    "daily_7dma": "line"
                },
                "value_columns": [
                    "x",
                    "daily",
                    "line"
                ]
            }
        },
        "map_facility": {
            "name": "map_facility",
            "chart_type": "custom_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_05_map_facility.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "static",
            "api_params": [],
            "variables": {
                "keys": [
                    "state",
                    "hospital"
                ],
                "columns": [
                    "lat",
                    "lon"
                ],
                "null_vals": null
            }
        },
        "barchart_key_variables": {
            "name": "barchart_key_variables",
            "chart_type": "bar_meter",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_02_barcharts.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "dynamic",
            "api_params": [
                "state"
            ],
            "variables": {
                "axis_values": [
                    {
                        "variable": "value"
                    }
                ],
                "keys": [
                    "state",
                    "period",
                    "chart"
                ],
                "null_vals": null,
                "add_key": {},
                "wanted": [],
                "id_needed": false,
                "condition": {},
                "post_operation": ""
            }
        },
        "choropleth_malaysia": {
            "name": "choropleth_malaysia",
            "chart_type": "choropleth_chart",
            "chart_source": "https://dgmy-public-dashboards.s3.ap-southeast-1.amazonaws.com/blood_06_choropleth_msia.parquet",
            "data_as_of": "2023-04-03 23:59",
            "api_type": "static",
            "api_params": [],
            "variables": {
                "x": "state",
                "y": [
                    "perc"
                ]
            }
        }
    }
}